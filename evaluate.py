#!/usr/bin/env python3
# An evaluate generic fake script
import os, sys, json, math, hashlib
import random

VERSION = 1


params_values = {}


def get_param_value(name, default=None):
    return next((v for k, v in params_values.items() if k.endswith("." + name)), default)

def set_random_seed():
    random.seed(get_param_value("seed", 1234))

assert len(sys.argv) == 3, "Expected argv: evaluate.py model test.data"


def phi(x):
    'Cumulative distribution function for the standard normal distribution'
    return (1.0 + math.erf(x / math.sqrt(2.0))) / 2.0

def hash_str(s):
    return hashlib.md5(s.encode()).digest()[0]

FINALIZE = {"0-1": phi, "1-0": lambda x: 1 - phi(x), "id": lambda x: x, "0-": math.exp,
            "intexp": lambda x: int(1000 * 10 ** x), "int": lambda x: int(100 * x)}


def evaluate_metric(name, typ, data):
    val = 0

    for p, v in data["params"].items():
        v = math.copysign(math.log(abs(v) + 1, 100), v)
        factor, noise, noise_period = COEFS["params"][hash_str(f"{name}:{p}")]
        val += factor * v + noise * math.cos(v / noise_period * math.pi * 2)

    for i, w in enumerate(data["work"]):
        w *= 0.33
        factor, noise, noise_period = COEFS["work"][hash_str(f"{name}:{i}")]
        val += factor * w + noise * math.sin(w / noise_period * math.pi * 2)

    return FINALIZE[typ](val)


def update_json(filename, update):
    try:
        with open(filename) as fd:
            value = json.load(fd)
    except (FileNotFoundError, json.JSONDecodeError):
        value = {}

    value.update(update)
    with open(filename, "w") as fd:
        json.dump(value, fd)


def dict_set(coll, keys, value):
    for i, key in enumerate(keys):
        if i == len(keys) - 1:
            coll[key] = value
        elif key not in coll:
            coll[key] = {}
        coll = coll[key]


def main():
    with open(sys.argv[1]) as model:
        data = json.load(model)
        data_size = os.stat(sys.argv[2]).st_size
        data["work"].append(math.log(data_size + 1))

        for filename, metrics in METRICS.items():
            update = {}
            for name, typ in metrics.items():
                dict_set(update, name.split("."), evaluate_metric(name, typ, data))
            update_json(filename, update)


# This coefficients define how params and "work" (data amount + code version) change metric values.
# To be both stable and not preconfigured for particular param/metric names we use feature hashing.
# These take some space so we place it as low as possible in out code.
METRICS = {'metrics.json': {'branch.product.binary.avg_time': '0-',
                  'branch.product.binary.meanscore': '0-1',
                  'branch.product.binary.n_docs': 'intexp',
                  'branch.product.percentile.falsepos': '1-0',
                  'branch.product.test.distinct': 'int',
                  'branch.product.test.exp_cost': 'intexp',
                  'branch.product.uncategorized.errors': 'int',
                  'branch.props.binary.auc': '0-1',
                  'branch.props.binary.distinct': 'int',
                  'branch.props.entities.non_null': '1-0',
                  'branch.props.uncategorized.benchmark': 'id',
                  'branch.related.binary.fullscore': '0-1',
                  'branch.related.percentile.time': '0-',
                  'branch.related.test.n_docs': 'intexp',
                  'branch.set.binary.falsepos': '1-0',
                  'branch.set.entities.avg_time': '0-',
                  'branch.set.test.entropy': 'id',
                  'branch.set.test.exp_cost': 'intexp',
                  'branch.support.binary.distinct': 'int',
                  'brand.product.percentile.errors': 'int',
                  'brand.product.percentile.index': '0-',
                  'brand.product.uncategorized.exp_cost': 'intexp',
                  'brand.product.uncategorized.f1-score': '0-1',
                  'brand.product.uncategorized.recall': '0-1',
                  'brand.props.binary.exp_cost': 'intexp',
                  'brand.props.entities.index': '0-',
                  'brand.props.percentile.distinct': 'int',
                  'brand.props.percentile.index': '0-',
                  'brand.props.percentile.weighted_avg': 'id',
                  'brand.related.percentile.falsepos': '1-0',
                  'brand.related.uncategorized.n_docs': 'intexp',
                  'brand.set.binary.distinct': 'int',
                  'brand.set.binary.loss': '1-0',
                  'brand.set.percentile.index': '0-',
                  'brand.set.percentile.non_null': '1-0',
                  'brand.set.test.time': '0-',
                  'brand.support.binary.meanscore': '0-1',
                  'brand.support.percentile.exp_cost': 'intexp',
                  'brand.support.test.prediction_time': '0-',
                  'brand.support.uncategorized.loss': '1-0',
                  'reports.product.percentile.time': '0-',
                  'reports.product.test.n_docs': 'intexp',
                  'reports.product.uncategorized.entropy': 'id',
                  'reports.props.entities.falsepos': '1-0',
                  'reports.props.entities.non_null': '1-0',
                  'reports.props.uncategorized.index': '0-',
                  'reports.props.uncategorized.size': 'intexp',
                  'reports.related.binary.auc': '0-1',
                  'reports.related.binary.time': '0-',
                  'reports.related.entities.avg_time': '0-',
                  'reports.related.percentile.precision': '0-1',
                  'reports.related.test.f1-score': '0-1',
                  'reports.related.test.prediction_time': '0-',
                  'reports.set.binary.f1-score': '0-1',
                  'reports.set.binary.non_null': '1-0',
                  'reports.set.binary.size': 'intexp',
                  'reports.set.percentile.non_null': '1-0',
                  'reports.set.test.auc': '0-1',
                  'reports.set.test.distinct': 'int',
                  'reports.set.uncategorized.weighted_avg': 'id',
                  'reports.support.binary.exp_cost': 'intexp',
                  'reports.support.binary.size': 'intexp',
                  'reports.support.entities.precision': '0-1',
                  'reports.support.percentile.avg_time': '0-',
                  'reports.support.test.exp_cost': 'intexp',
                  'reports.support.uncategorized.avg_time': '0-',
                  'results.product.binary.n_docs': 'intexp',
                  'results.product.uncategorized.loss': '1-0',
                  'results.props.percentile.index': '0-',
                  'results.props.test.non_null': '1-0',
                  'results.props.test.weighted_avg': 'id',
                  'results.related.binary.falsepos': '1-0',
                  'results.related.binary.loss': '1-0',
                  'results.related.entities.prediction_time': '0-',
                  'results.related.percentile.errors': 'int',
                  'results.related.test.distinct': 'int',
                  'results.related.uncategorized.loss': '1-0',
                  'results.set.percentile.time': '0-',
                  'results.set.test.precision': '0-1',
                  'results.support.binary.distinct': 'int',
                  'results.support.test.f1-score': '0-1',
                  'results.support.uncategorized.loss': '1-0',
                  'train.product.binary.f1-score': '0-1',
                  'train.product.binary.weighted_avg': 'id',
                  'train.product.entities.distinct': 'int',
                  'train.product.entities.falsepos': '1-0',
                  'train.product.percentile.auc': '0-1',
                  'train.props.test.distinct': 'int',
                  'train.related.entities.prediction_time': '0-',
                  'train.related.percentile.time': '0-',
                  'train.related.test.errors': 'int',
                  'train.related.uncategorized.time': '0-',
                  'train.set.entities.loss': '1-0',
                  'train.set.percentile.prediction_time': '0-',
                  'train.set.test.benchmark': 'id',
                  'train.set.test.recall': '0-1',
                  'train.support.binary.falsepos': '1-0',
                  'train.support.entities.auc': '0-1',
                  'train.support.percentile.benchmark': 'id',
                  'train.support.uncategorized.time': '0-'}}
COEFS = {'params': [(0.06355997067195548, 0.07450440792968777, 1.0063500885425019),
            (0.05072530272803755, 0.008633181753011601, 1.0768636350199023),
            (0.04636351071639461, -0.025043230579141082, 2.20505938365476),
            (-0.046536945676300026, -0.08845926685019932, 1.895883040340995),
            (-0.06824894556354819, 0.09133192907119014, 2.615425330649445),
            (-0.033643511212133645, 0.02094775920868415, 1.871370666539535),
            (-0.0703378832491896, -0.0938187819310862, 1.1115374559385787),
            (0.09392245482306236, 0.09110973470756856, 1.2366673149406757),
            (-0.06554752311313741, -0.07862348293537502, 2.7076146965783723),
            (0.02963693011541116, -0.04524281731282975, 2.9394800389872726),
            (0.08403868433750236, 0.04159853880165337, 2.278556512012676),
            (-0.035169190844164686, -0.007994796099474732, 1.175418790612737),
            (0.0741141891197539, 0.013666493418907466, 2.022087664096709),
            (-0.036781592752628295, 0.015235367642401812, 2.8050096988437514),
            (0.00545985698768596, -0.0730311919212723, 2.5757486480424427),
            (0.08738370958803796, -0.0015761572518488282, 1.7207218843814365),
            (0.08957221274051008, -0.09162843435039587, 2.6225960326387394),
            (-0.05444280557931136, -0.039010053275337, 1.009876174473727),
            (-0.05358811175043981, -0.07557205998786896, 2.860719103937627),
            (-0.02296392952915946, 0.06319632071052314, 2.5976416165407574),
            (-0.0045229738651197254, -0.06774783434816689, 2.6537806641276998),
            (-0.03855606803937646, 0.06310155307965198, 2.444955788422007),
            (-0.09056164730557661, 0.09792822590798123, 1.6905441520270414),
            (0.06321740820273952, 0.01623351270209883, 1.608556869276233),
            (-0.09429487176689555, 0.04592754334951715, 1.6244178819738815),
            (0.06282687127999681, 0.06425306071646525, 1.080659440843911),
            (0.07926744703358005, -0.04662022397627444, 1.7719973532851527),
            (-0.07053191367139484, 0.007480548709248122, 1.598717804947409),
            (-0.0052241515023984525, -0.0555803952049597, 1.7246990070118173),
            (0.04626230977247975, -0.09888096413851649, 2.4432336403882986),
            (-0.09863307736115379, 0.05443370420075691, 1.6261052646960217),
            (-0.04682955867985337, -0.09154388878568023, 1.1609287441919878),
            (0.048252094689835656, -0.05313852028932318, 1.4052508350355275),
            (0.08563771061701583, -0.027166700204503805, 2.806715974107412),
            (0.027285803310423573, -0.011385006920462251, 1.5344043585924858),
            (-0.06731239755906646, 0.09647519752706812, 2.7312722272465275),
            (-0.0549956019358157, 0.036188187118244675, 1.0542926696225796),
            (-0.044842636052153176, 0.034496010687513234, 1.7279853021844023),
            (-0.09832467519288919, -0.011996534170536005, 2.5477302062336973),
            (-0.03318290521561432, -0.04884727535776454, 2.790181810533814),
            (0.08958038494496706, 0.029118138406386357, 1.3950765547422503),
            (-0.06152068901057553, 0.05804737651327671, 2.437762291888344),
            (0.02603922933119185, -0.06517817555986227, 1.9338556068625559),
            (-0.07896566943753945, 0.004369503892904469, 1.7129281664417542),
            (0.049780901403690986, 0.05845569673608847, 2.9117269845934675),
            (0.0285967867234084, 0.05362860154665536, 1.1548176269911623),
            (-0.04262540705066098, -0.06825017417288826, 2.4412682148197353),
            (-0.055196616238460616, 0.09486538767276528, 2.5302517453893056),
            (0.021023301647955808, 0.0937681671431558, 2.8101590960756377),
            (0.016059509665043173, -0.05621384502097644, 1.9092112302856117),
            (-0.04663245926769626, 0.03306590356910846, 1.4850398170296868),
            (-0.01846022715583613, 0.013721788137298602, 2.7435642198371246),
            (-0.05487975996899317, -0.06402870178769299, 1.0227953616553371),
            (0.03279420019658377, -0.023012959600260757, 1.5019178498351182),
            (0.04169026236989673, -0.08011779124567196, 1.8910129114021432),
            (0.04198746787662, 0.09403391704946587, 1.2311767583722195),
            (0.09433474575992659, 0.00033937359128921596, 1.40171759055954),
            (0.036929610662051554, -0.006504771973623896, 2.9775823862087276),
            (0.05947219237563403, 0.043228274344188494, 2.4336332277130355),
            (-0.046471264325983454, 0.028276226045092695, 2.973822770176411),
            (0.02682677533488126, -0.041229442835193766, 1.8263731184011616),
            (0.04501379528321675, -0.07487714767624132, 1.2861617886888863),
            (-0.030003008913326343, -0.07975972821562818, 2.771372365044747),
            (0.09211125956043575, -0.008827651387419741, 2.387900346096484),
            (0.07608489373324087, -0.07194405429232903, 1.9061065202615848),
            (-0.01112210357681101, 0.0024244264993452252, 2.8096415199178653),
            (-0.07172655778525819, 0.02788512152360234, 2.941332476245133),
            (0.0754156147277083, 0.02377734876727193, 2.4793452785333985),
            (-0.08270544117972999, 0.0422383031088141, 1.5382550631377294),
            (0.06237921474109451, -0.09487039986773445, 1.0871023233184),
            (-0.09350317263632589, -0.011220473708846851, 2.0286633559109877),
            (-0.030049814432687214, 0.05313068037324964, 1.4581584622893689),
            (0.00196818681737318, 0.05325649969478777, 1.0231686749022517),
            (0.09288228836576559, -0.012310655079895011, 1.7464924261555332),
            (-0.006392264625841637, -0.05159358447145184, 1.0369480587233768),
            (0.039016341851293435, 0.08129992858533391, 1.1738962740920944),
            (0.09734805831083534, -0.016661945123589914, 2.7739701103097234),
            (0.08516334314758953, -0.09472134042523093, 1.1327311193096479),
            (-0.035412061923592655, 0.05364640825315031, 1.3552735046191755),
            (0.03295073730583259, -0.012039857551782357, 1.7440945549331326),
            (0.004594900353096135, 0.041233068652969745, 1.9576414990166764),
            (-0.03377046042675584, 0.014619566690017335, 2.716637591387786),
            (0.0011569925588218871, -0.005061169380719946, 2.781376102703434),
            (0.06189162175342183, 0.09144233535717922, 1.7819000774131064),
            (0.06337233005207088, 0.011078537361323873, 1.0198325671530957),
            (-0.05442903347352577, 0.07001021919155923, 1.702105374015932),
            (-0.024722713179072597, -0.06315260249723378, 2.178270732195601),
            (-0.09873732662714883, -0.04756385747365528, 2.8181248427338903),
            (-0.0045490183964000674, 0.08506145234911552, 1.4273027146016066),
            (0.0615071214573962, -0.0502771820282026, 2.768506064475389),
            (-0.08262291928617885, 0.09408232335064362, 1.4584151215218288),
            (-0.05340355697372661, 0.055830678984434834, 1.2239421109333475),
            (0.001554579548891294, 0.046862259359379904, 2.5075740214400506),
            (0.0995032733681745, -0.08860707641573679, 1.5019092746890033),
            (-0.0973386935269297, -0.04673591176276, 2.330331979459397),
            (0.09146687411144241, -0.09442055412134631, 1.2114992004375065),
            (0.018731007817616496, -0.09540207647449335, 1.1568842952611706),
            (0.07195464498373186, -0.09515021769185623, 1.956561846836696),
            (0.09410489840275976, -0.05713496214913312, 1.0828571026516722),
            (-0.06671744481900466, -0.08961422041014569, 2.612215222076438),
            (0.031431504352190415, 0.037110604187491875, 1.2197167276896013),
            (-0.020214546924255367, 0.03976573831268815, 1.5716072698908514),
            (0.06428023126611693, 0.05988335039512485, 2.778980859141628),
            (0.07341308723062576, 0.023461086785009827, 1.13709458225546),
            (0.01253396014631425, 0.008903954699288091, 2.641610189412423),
            (-0.00961423765971578, 0.07414608368540718, 2.3102300310113915),
            (-0.01968946295936995, -0.04036194484126048, 2.6100740887946667),
            (0.09103137410765264, 0.049111062247164605, 1.2781629856478096),
            (-0.05349213771788541, -0.09963507898037322, 2.8104257655901934),
            (-0.05693820102296061, 0.05209116092141544, 2.2226597657953135),
            (0.018648110271620527, 0.09929343172939897, 1.1765719380571436),
            (-0.03591393006295758, 0.05978737226856873, 2.2232424464088747),
            (0.0648275929812738, 0.037240345753073806, 1.7268317519716416),
            (-0.06888917127506017, -0.016558222590565233, 1.112659656029876),
            (-0.09412859510698897, 0.04865009744419471, 1.933818662364179),
            (0.09577626649598925, -0.08431289630461225, 2.0203464140173533),
            (-0.09984070583744054, -0.09975255999621974, 2.2760822104644127),
            (0.03902451890259584, 0.08349712751727717, 1.2421335963958129),
            (-0.09480920294262547, -0.013918151529550865, 2.9005298239977204),
            (0.07946298958786499, 0.017512781799919247, 2.0949876882802783),
            (0.06881086139957734, -0.09497896657596855, 2.780264218638119),
            (0.0632276395486667, 0.08217808854299216, 1.203067457194144),
            (0.040954402360103115, 0.07039375777218915, 1.5365346866380107),
            (0.009022513145476127, -0.050793143940347445, 1.3828976754808926),
            (-0.003946998409930444, 0.05601331943042612, 2.1296633909794984),
            (0.04060694160626632, 0.0992258737936228, 1.7326455674239227),
            (-0.05310301817401282, -0.04505683203812734, 2.2917581708868955),
            (-0.021636574174490456, -0.03647653560197084, 1.0058757249409624),
            (0.08951950130130032, -0.04183534375680238, 1.9858404107921064),
            (-0.06055904779882224, -0.0038734807448975728, 2.9535345059999303),
            (0.018428018746270786, 0.08728530480484503, 2.1322125086181316),
            (-0.03944467602775317, -0.05213775590744851, 2.5244837127115924),
            (-0.004962639182238007, 0.02559693130893148, 1.5114223478761002),
            (0.08219376673417425, 0.02355299632424948, 1.3185722456045519),
            (-0.04831809822036479, 0.018311288214583582, 1.3458151298706575),
            (0.0847966032033913, -0.028005062830026822, 1.9963260588131058),
            (-0.07547934443986425, -0.049391981176209826, 2.2284305085552383),
            (-0.056689748628725625, -0.024595984798691767, 1.705102941947503),
            (-0.09672466526562724, 0.043209279992551086, 2.302329123641007),
            (0.04465284320242896, 0.009235662838568165, 1.8864391436746335),
            (-0.09017153776872561, 0.009250256409067986, 2.8045696086287153),
            (0.006558673383040239, -0.037738728564703374, 2.0269375158439416),
            (0.016682950136049007, -0.02919179320925991, 2.2188643364842653),
            (0.03569632009349116, 0.05913070728275291, 1.4564206543312468),
            (-0.035024279000984024, -0.02325753696621083, 2.4745787787377074),
            (-0.05529568555168834, -0.029549173271709098, 2.1442542655543),
            (0.07267020731333507, 0.05440223784857595, 2.4694684776376654),
            (0.005866141440508857, -0.05331609239407651, 2.6459665723293737),
            (0.017754783245314612, -0.08520402189421623, 2.319833403608687),
            (0.04531685284376866, 0.05865069939197237, 1.5969636157005191),
            (0.06216951996186451, -0.044558730682336116, 1.3943753663709235),
            (-0.08992568970868647, 0.05261203756215674, 1.6737235288106453),
            (-0.07702191721464324, 0.04784111794969789, 1.211205304688298),
            (-0.0783898245380954, 0.060299983047829464, 1.1615107883779427),
            (-0.030702144661222702, -0.007477585567512948, 1.056917256792663),
            (-0.05530449795810553, 0.018774888855025026, 1.020239621462555),
            (-0.08106770613626198, 0.04622380771146778, 2.4520388017930026),
            (0.04217925345151993, 0.027749262414685283, 1.3080656141289893),
            (0.027248700311930107, -0.017287983406000823, 1.6026975446286191),
            (0.0027011709079167723, -0.07520786547846386, 1.5666905903247441),
            (-0.056522987975926545, -0.042611849088327824, 2.254697229136476),
            (-0.06611893843676203, -0.033162984085733996, 2.7604118694775224),
            (0.08744478925010696, 0.018382531722538814, 2.770339919056393),
            (-0.03876870012715217, -0.08976587403827821, 2.1484058234170775),
            (0.08945620233652526, -0.029373918036819727, 1.7779107261531277),
            (0.05731278933214534, -0.07518488122889695, 2.8579094157840217),
            (0.09131018641803401, 0.09701028982988091, 2.134970930201936),
            (0.09363608001232268, -0.06999755847756127, 2.774414331181692),
            (-0.029518262002158666, -0.0025674928404935127, 2.951768668194723),
            (-0.04222290440063823, -0.06974149049437195, 2.728137895916677),
            (0.008963784526432136, -0.047915542516395765, 2.9313521483931275),
            (-0.06949969939733168, 0.020564620939383854, 1.3220520380407221),
            (-0.058186836831662925, 0.011909956761292334, 1.4594519133088264),
            (-0.02190073285509246, -0.09007737702959727, 1.3462825859996563),
            (0.064328889039838, -0.03517967569223271, 1.994956442961307),
            (0.07609102228768194, 0.04603094904120561, 1.7536156354156807),
            (0.07195496506162996, 0.083159029433341, 1.6935106259638912),
            (-0.07972200193455888, 0.028741619618451952, 1.3541060204692972),
            (0.07363490306949338, 0.01610313145432052, 1.1998024297106287),
            (0.09927904074813651, -0.07841645615050026, 2.3217810005753883),
            (0.061122609477787304, -0.047276191184764074, 1.1000847027890037),
            (-0.04509118884119674, 0.07196504046778207, 1.6175438466382155),
            (-0.06986394100142308, 0.0680053996442804, 2.685821329918527),
            (-0.0890028953209988, -0.04778016260570692, 1.9280776067503322),
            (0.042534592346498784, -0.009907901541627823, 1.6191885109400068),
            (-0.09721713464505244, 0.054617862729400085, 1.5530313184819664),
            (0.011900142441084144, 0.06985828350470238, 1.160881025075736),
            (-0.07275296837651127, -0.06426481369578237, 2.5727869833782657),
            (0.09725602690172841, -0.0414399389257659, 1.7486099763436327),
            (0.07312388508022205, -0.023350118462868344, 2.918196536396902),
            (0.061795577298986964, -0.010008245072395283, 1.201935606774257),
            (-0.09177870030053362, -0.002493017403580655, 1.2743475993998299),
            (-0.071280455025451, -0.003222909747714997, 2.2576159392423376),
            (0.08802768883597054, 0.06051553061316131, 1.7342113927515408),
            (0.047507570821596234, -0.07108972145178666, 2.838286286191956),
            (-0.05842970533351417, -0.03959019991555637, 2.5991832521960463),
            (0.010460706774013076, -0.06866145742320215, 1.0445019215573166),
            (0.028246046836389982, 0.03533614379962596, 1.1053228737638499),
            (0.022704956323577025, 0.04482530732381121, 2.9699367573359723),
            (0.014918081436482544, 0.07307210389563687, 2.60001666182971),
            (0.07913986722494382, -0.0892986818807387, 1.335317919947168),
            (0.043160322805878726, 0.007018312592604034, 2.3042492144721587),
            (0.06299681756657063, 0.012543975626188364, 2.5569114190835083),
            (-0.012434344580440876, 0.01840084578126011, 1.2064411190109667),
            (0.037570519591424684, -0.051671230221254395, 1.630812303164076),
            (-0.0662833845790985, -0.01550465897020148, 1.68246918168911),
            (0.08748573060691225, -0.02519248011172366, 1.6224130082188932),
            (0.051389276691828883, 0.06243859322004694, 1.8606053163573624),
            (0.005766928265331622, -0.046334799176602506, 1.301234612975348),
            (0.006248129383678025, 0.09374602073027449, 2.7443035518703933),
            (0.06698847335899413, 0.04020168923924444, 1.8608060687672419),
            (-0.0278185621261553, 0.0018811915972356957, 1.6248824135694302),
            (-0.019654017360450388, -0.007710894194993018, 2.79798058162702),
            (0.003810134755978953, 0.05414482753361416, 2.2466369780218116),
            (0.032223846615961615, 0.09716828114413265, 1.1923077622575182),
            (-0.004156152659516035, -0.035844884535713814, 1.7613553348499342),
            (-0.09917751808847397, 0.014059110127030205, 1.087425331832922),
            (4.5381367247882e-05, 0.06952681140533479, 1.7754409433194387),
            (-0.09907852485677543, 0.01083610026738191, 2.2127838550759815),
            (-0.07689963068870903, 0.05487846336636526, 1.2630481048774842),
            (-0.07898725213121041, 0.08572089019265128, 1.585773601980236),
            (0.05656432770325698, -0.09141697449699444, 1.043919387100178),
            (0.0847110416310593, 0.07943729642039093, 2.2210554091249013),
            (0.07125701265986306, 0.04390091203605148, 1.3388366867441317),
            (-0.0932300775338919, 0.008660361572868605, 1.0671880143446286),
            (0.04658090609613724, 0.0211259882381752, 2.3305415817872817),
            (-0.023774471861764665, -0.0005892003926364076, 2.155344750892153),
            (0.08496841166852323, -0.07821516376948714, 1.8926350811823438),
            (-0.07267164322855746, -0.06172158249685218, 2.5240059935384824),
            (0.04502590398924039, -0.04760473082728496, 1.807860174432939),
            (0.05319010943838795, -0.03251448614246248, 1.0501026932993875),
            (-0.06727138399700779, -0.04058859037790463, 1.4996408516329813),
            (-0.017580846316598592, -0.017814110209286207, 1.3282907673878472),
            (0.009847648041328608, 0.07021209905382986, 2.9099145736581065),
            (0.0980152385342925, -0.005212341844774676, 1.9014110769924801),
            (0.06475463542143861, -0.09483501480842463, 1.22593290066796),
            (-0.09136134230967644, -0.09362973815338418, 1.8244596447279675),
            (0.03761280711910869, 0.046969060816138525, 2.626664140768983),
            (0.01847062792444601, 0.08743884569752822, 2.6976873195109414),
            (-0.01546355739190955, -0.09089116126653896, 1.4669151323543195),
            (-0.01388870272251383, 0.06922352818195407, 1.3004237781397952),
            (-0.09580640932106309, -0.020966987530047082, 2.4836358784787422),
            (0.05698338978790904, -0.06606435233110682, 1.6690684132595703),
            (-0.016071089640828817, 0.09043965910015273, 1.5786104748731375),
            (0.08351018736963747, -0.07705647053682987, 1.6536743754655192),
            (-0.030671730309991263, -0.09989053842552408, 1.3514863422972632),
            (0.029873771633216833, -0.021101690222164238, 2.479180721249948),
            (-0.056929541709567794, 0.029393347543754833, 1.8380793963425142),
            (0.045814442663437205, 0.09527606317891765, 2.962640396604515),
            (0.05209181738101548, 0.06764963847014122, 1.8925893561722442),
            (0.02430306705837844, 0.08587630731663462, 2.2430771259179254),
            (0.07840123295237619, -0.02544359993347048, 1.6222262884667125),
            (-0.009135870917526323, 0.0026605901899317413, 2.6904669553405065),
            (0.05413925314370163, -0.0708922030782899, 2.636623170913153),
            (-0.0756236529896614, -0.044558085461275446, 2.7583469367473334),
            (-0.07001735889536567, 0.01712831657756793, 1.8474172761413439)],
 'work': [(0.06884878747030782, 0.09063462809155617, 2.6546831563957656),
          (0.14569232359923334, 0.08109742481342025, 2.1076210164362887),
          (0.08057813545959405, -0.0007655178077951019, 2.104607201666317),
          (0.11307006310631797, -0.0666361289611681, 2.710867148876262),
          (0.06894979432966479, 0.021530460233809584, 1.5330180542088063),
          (0.13295160158545705, 0.05342617902073382, 1.1679415192307103),
          (0.05311901046399338, -0.03791031784026262, 2.1763527741943385),
          (0.10547374908749327, -0.07726994234055842, 1.0038315463610374),
          (0.09592271653358705, -0.027728345672497698, 2.5515126274123903),
          (0.06363954281956681, 0.061831456398044965, 1.6119365170101103),
          (0.08258462687615137, -0.05704850699512516, 1.9816717746212127),
          (0.0809065561801929, -0.08968855819801685, 2.3713996913945206),
          (0.08074304018473089, -0.08917061637654758, 2.716902880700209),
          (0.14712104486625777, 0.08343854752793198, 2.0583922137456425),
          (0.06823824174734726, -0.0684767938768371, 1.0127058824321844),
          (0.09835827295700789, -0.0950208468227874, 2.426888939746749),
          (0.06301926434588803, 0.012279636909003758, 1.113454283146447),
          (0.08675555425948919, -0.08545321377149316, 2.355126022680669),
          (0.08423983035791942, 0.042790505459333994, 2.992831671400079),
          (0.1133672515481625, 0.004004810722718605, 1.3869169135510344),
          (0.10897883334644584, -0.017180544609500137, 1.2119867246837124),
          (0.09070832230873344, 0.001627212250087745, 1.0531794070223899),
          (0.1365340126551829, -0.07705494195586012, 2.7034679751617325),
          (0.09358340320709921, 0.04686717874033186, 1.0743794585635587),
          (0.057827554129391334, 0.03742224899357033, 2.6013806655980547),
          (0.11508942442908951, -0.06511772554196837, 2.643381003802218),
          (0.08336763205956146, 0.08624928358124137, 1.7414546116393776),
          (0.13423995567052185, 0.04757535243878372, 1.124194505635616),
          (0.10699226668257854, 0.09060805013755488, 2.5551652448157993),
          (0.05976973862920655, -0.06344089221195182, 2.6326100643845938),
          (0.06075096192895031, -0.05856061452063628, 1.245673462236225),
          (0.11483660825499221, -0.05004310454337549, 1.0018130747610552),
          (0.11789314553205459, -0.005946623370933504, 2.3017841306825404),
          (0.06713011621782575, -0.07540348414962383, 1.2617565776678341),
          (0.09735341742704301, -0.04264525253406637, 1.9678793522299143),
          (0.08764949030302516, 0.07104554576953395, 2.699844757767888),
          (0.11453207617209726, 0.07143664327735574, 2.7897322790351398),
          (0.14784087313148558, 0.00965788880323308, 2.160146813483018),
          (0.051204964500473904, 0.01884143212867373, 1.1787317294087571),
          (0.14055329168116779, -0.07603047363628941, 2.7619809392976062),
          (0.06754654386330505, 0.08797446920731106, 2.1156117093177054),
          (0.06749991244006455, -0.025110946174595264, 1.7026026997956933),
          (0.053875751445293656, 0.019525362114883676, 2.090951361848723),
          (0.1401116686366635, -0.09939495814651074, 2.3906229002616026),
          (0.10341856475984479, 0.09311446001421772, 2.864538780934927),
          (0.1169544737001406, -0.04295438487593622, 1.1863135810915217),
          (0.057682127826964004, -0.06009764064289256, 1.4125427457621784),
          (0.07513007493833398, -0.019976024590091804, 2.689458954596791),
          (0.1430852630611314, -0.01512535370280614, 1.3924229774292838),
          (0.06567946249199501, 0.06649387335760495, 1.7476722074365223),
          (0.10027014497817852, -0.0730467602664, 2.3199123696950954),
          (0.09491075460947951, 0.051586306010118155, 1.482788390513094),
          (0.05188512915179103, 0.004548303280397764, 1.2857532567638936),
          (0.059884983548413456, 0.009386456811609073, 1.5450924667665589),
          (0.08460718366078063, 0.012254786439223203, 2.6290300339822994),
          (0.13565131486554965, 0.04983660007953081, 2.2976921406665065),
          (0.09855017765097246, -0.06353334587016374, 1.9265793110352722),
          (0.05417617547528041, 0.04811293107435696, 2.3282831128184007),
          (0.08071908885342692, 0.028863441090484637, 2.994195291102766),
          (0.10534835061552372, -0.07009319073737152, 2.0763776514257026),
          (0.12521150621962385, 0.06603129370608618, 1.630306616126203),
          (0.08635943175213145, -0.039058059047051355, 2.895666476153907),
          (0.11342732278072869, 0.005674808025928568, 2.9012001736539093),
          (0.050054915894835766, -0.07375369903518608, 1.3682404307989642),
          (0.12645911341710175, 0.018370200024302827, 2.447595105630853),
          (0.09062501507679896, 0.015153881207527586, 2.6383433513481966),
          (0.08379142141019326, 0.05368811588330388, 1.2547514675341775),
          (0.10691381159215121, 0.07652636335276641, 1.4158962343558041),
          (0.051914945955771, -0.013959416100399524, 1.4455156107788985),
          (0.09599881148516146, 0.03337675437854931, 1.9980432537640078),
          (0.13444937595814466, -0.06678775629020037, 2.109337704571696),
          (0.08207289352254903, -0.08481008260700158, 2.70662073265059),
          (0.112988702619151, 0.09201391678054285, 2.7146183225614626),
          (0.06279183212754683, 0.09776253670962673, 1.2083610411292067),
          (0.058527440980054184, -0.045523089887817794, 2.8134701392779187),
          (0.09731659294958012, -0.0773243270991335, 1.9126436953292918),
          (0.08414362901436684, -0.07549375584915015, 2.9938856897901553),
          (0.09031937194118593, 0.06559147810991955, 1.3232384890938709),
          (0.0726601974403969, 0.04329317511048131, 2.4330249957914987),
          (0.13418886397260882, 0.07717519249961396, 2.556547994675646),
          (0.060321043108770483, -0.05731742083035283, 2.646649763246959),
          (0.06686649864950064, -0.08230423720887009, 1.8527256554427447),
          (0.1187820549721296, -0.055524144687599634, 1.761568245063274),
          (0.06287660164583496, -0.023287598181471372, 2.935409029909901),
          (0.12224610828858783, 0.05044318592872363, 1.0645082979027294),
          (0.053718161167645495, 0.08712745052678472, 2.63688871447859),
          (0.09985428090382223, 0.04821772582480538, 2.1877318659654326),
          (0.085542308544641, 0.026102913812941442, 2.3898246433023593),
          (0.0768562901774499, 0.017462039952214556, 2.453651789817158),
          (0.12150677560223294, 0.023481322811262695, 2.1349862598531235),
          (0.05622518849658366, -0.07838371427676193, 1.305777332171022),
          (0.06700709904353513, -0.036639853028293465, 1.2393934291586999),
          (0.09920419370598876, 0.07126784564625438, 2.4920782997189415),
          (0.11114149996708948, -0.05394202268330892, 2.572973804422106),
          (0.06809750947250857, 0.06497460403527094, 2.006276879542029),
          (0.13161602850107068, -0.08921173860900909, 1.6875594918412464),
          (0.1464901893584688, -0.09230949414115892, 2.9010321297452446),
          (0.06474317948243279, -0.09180171955783119, 1.8082555371976714),
          (0.11552995921861485, 0.02273111782349302, 1.2186825451411694),
          (0.13737483398925038, 0.04915209396289838, 1.5071933945065932),
          (0.1454923623320104, -0.05715675035883612, 2.6325317704149738),
          (0.1293974877067286, -0.02935890223943463, 2.9006587456930006),
          (0.1356991387865435, 0.04937944571274122, 2.481084662255161),
          (0.05971751121088418, -0.09405537201612878, 2.2923332089691004),
          (0.12410064214061485, 0.04161541542977992, 1.1619855715994902),
          (0.09007477194967346, 0.005053030562836652, 1.2818038156363025),
          (0.05072820360647282, 0.02323771489868294, 1.0286105743241933),
          (0.1479000537406622, 0.021779636389478135, 1.7385700139235452),
          (0.07919775057340406, -0.09234179276015707, 1.822348417262722),
          (0.1337372430217474, -0.08757679074526487, 1.1957679440967564),
          (0.0748989703183537, 0.015407627719983746, 1.581555073682385),
          (0.06819641010872439, -0.03367111064303434, 2.377365120360234),
          (0.08456581091881878, 0.04918241171110693, 2.7198315085079847),
          (0.10531425244141226, -0.06429123265526401, 1.7514422364237097),
          (0.05757359694764161, 0.0927721373436696, 2.201241546563275),
          (0.06729730602171717, 0.09487821683250017, 2.6807988292434555),
          (0.07231850987250701, -0.023002505829488998, 1.5155405624730138),
          (0.05482241420445755, 0.07737091172826979, 2.3898726575410576),
          (0.07542941461777182, -0.06422490090209532, 1.3847385442661029),
          (0.10543698294698797, 0.07620215435972974, 2.5250015045860286),
          (0.08157033737472245, -0.0490840389073127, 2.950616554366059),
          (0.1216839561772036, 0.0394527180329689, 2.2884279301251578),
          (0.14112101472380895, 0.044736312040288356, 1.7007502800148446),
          (0.05147316539722392, -0.08898455697305302, 2.4696300329464935),
          (0.06545947854355363, 0.06367349274832892, 1.7707853845209285),
          (0.14063552433154936, -0.018228093832558342, 2.182421051933858),
          (0.11728284114045383, 0.042531153327679594, 2.8850010015962413),
          (0.13551301929612208, -0.04164547764472324, 2.2229563148524623),
          (0.0773002618326428, -0.05727257456469173, 1.4282923054053274),
          (0.093904812428219, 0.05554871604661216, 2.785246811127411),
          (0.144139625494309, -0.07833792370761113, 1.6751384651699992),
          (0.08211292083706168, 0.019117089687825634, 2.011612006946526),
          (0.13304251062417127, -0.006046270838835577, 2.6466433462513788),
          (0.08848296940378236, -0.0987397812173601, 1.991743311887829),
          (0.05474360461968704, 0.0003781682375242068, 1.2143642073471494),
          (0.1458678620884351, 0.0031622638671756353, 1.6571669343285838),
          (0.1387129506501567, 0.020887516781519747, 2.3544493273560008),
          (0.053481612986185346, -0.0032349183884317484, 2.2110254070756987),
          (0.09945552074817497, -0.07210823441606416, 1.6135686746750197),
          (0.10665890144048884, -0.05271679046333866, 1.7086019983802991),
          (0.050052449840163285, 0.08685092940930653, 2.7286821546410662),
          (0.13093101549897287, -0.09859208057590918, 1.820940915634105),
          (0.10549936225382993, 0.008251343654542123, 1.8461385276673385),
          (0.14954250576977435, 0.0015802149028786017, 1.1204867250949708),
          (0.11471080079836002, 0.0613233803740158, 1.3617309468122585),
          (0.14773149754946485, -0.06103190497389979, 2.301571051725718),
          (0.05680609579991072, -0.08518284004994339, 2.9034429296641457),
          (0.05415717205231751, -0.09648244265060602, 2.3453571238190998),
          (0.07872879333716709, 0.007109896733738991, 2.6478284972339186),
          (0.14915870825140748, -0.07005147729983374, 1.162710486532675),
          (0.05512678876587566, -0.07287343417379591, 1.4746398638855913),
          (0.1210840536990542, 0.026728609991352015, 2.84708521788738),
          (0.05477830430832608, 0.06889497882031645, 2.2467544692120374),
          (0.14233839142853458, -0.05512913516480192, 1.3843761560856371),
          (0.06408456948712628, -0.07489671855605746, 1.2526810809289968),
          (0.13263967106589486, 0.09344565050782977, 2.8947683362344945),
          (0.09733648940279076, 0.0012961890508090546, 2.0403242514326925),
          (0.05621568804125163, 0.011743020259789794, 1.7904033556639039),
          (0.13447958136913662, -0.06036274186201354, 2.498127472065052),
          (0.09485430863898017, -0.0811704319740103, 1.1456590413887169),
          (0.14002484581307148, -0.09271351278638394, 2.2860972107406683),
          (0.07475460719621688, -0.07884453428300145, 1.3024593622006435),
          (0.10542205070810035, 0.06882391498016599, 2.5777429005990964),
          (0.09877358167036009, -0.027073829537657607, 1.1725588389180959),
          (0.08441561816932411, 0.05368893429640606, 1.7106166342425675),
          (0.0847345600483712, -0.028227269514020256, 1.0207109831503027),
          (0.05308452006358044, 0.09811533849899809, 1.7833343784775355),
          (0.07471930079801041, 0.0057727171088526735, 2.2381633761814266),
          (0.08261921059210461, -0.03622446178187799, 1.2073817185447324),
          (0.13708506494625955, 0.050291486640070715, 2.427822132487475),
          (0.10351297277840621, -0.019819797865152228, 2.885811812494731),
          (0.13662693051542127, 0.028344584623092306, 2.6100868315263552),
          (0.14829975886206248, 0.05637943635180373, 1.9292883110683565),
          (0.11289832334392488, 0.08242954836262098, 1.1108352585119194),
          (0.11836665839082366, -0.045874147972769654, 1.4038792596333838),
          (0.14920612334094063, -0.08520302629945685, 2.2799566011526657),
          (0.066084411523983, -0.09296837338408662, 1.1014924463438032),
          (0.13919404786101597, -0.09651890561547516, 1.3938148903764065),
          (0.11938134167896115, -0.0859059527037906, 1.199064336946357),
          (0.08846318787848986, 0.013961890184651354, 2.035023468449423),
          (0.13624420594563091, 0.0851742342102729, 1.6158655473889922),
          (0.1455989828875675, -0.05469359422654396, 1.4994631838038228),
          (0.1151018515207758, 0.054303986367881335, 2.4032556016742257),
          (0.11995351022005132, -0.022229230683634776, 2.5594693765818044),
          (0.08980388437569124, 0.00517910033226765, 2.8874862617378154),
          (0.06027429101610252, -0.06488953850258178, 2.6597369778575564),
          (0.05742703995940181, 0.006851511929443735, 2.6868801562098468),
          (0.13806001214043326, -0.043006905984242755, 1.857021738429418),
          (0.07808988568254849, -0.013092407725384142, 2.471100603022167),
          (0.11327178009283652, -0.026292024918616888, 2.899452436627901),
          (0.07784477194880883, 0.0940861638980777, 1.9423302265067461),
          (0.14827997461121306, 0.004779955875373082, 1.0266889897850684),
          (0.10117906157046899, 0.06689789118964184, 2.6398344702767034),
          (0.09699426430521589, -0.07586201164957183, 1.3074721014897124),
          (0.06047603435073961, -0.057145419567401094, 2.8543407600987347),
          (0.10373407057668632, -0.09360912522875389, 1.66620736217269),
          (0.0957641351555261, 0.04629577648412836, 2.5003390484817882),
          (0.14061874042327682, -0.045649054304629844, 2.219391911810189),
          (0.08381130810512459, 0.018620915381277525, 2.407794255620661),
          (0.09892712851753996, 0.07491915011370529, 2.08655425137696),
          (0.08803505248775131, 0.04087683091917452, 2.2129820158491826),
          (0.10008835769758917, -0.06273358010918254, 2.390022833268388),
          (0.10114275374376386, 0.025436047014213536, 2.3534285494728877),
          (0.09045056583524941, 0.06984581848241075, 2.5601912241314992),
          (0.14002378837878454, 0.07484738924416215, 1.4950925628743896),
          (0.11305081357924597, -0.060991765421271715, 1.9492275773229726),
          (0.05201024856213228, 0.03969941996408405, 1.259139252559777),
          (0.07082336800438697, 0.09101878436196811, 1.7716962236816705),
          (0.09473691306914533, 0.07690389927908114, 2.0582708700347463),
          (0.05888856406190296, 0.09356831756555414, 1.7759763136864832),
          (0.07549514864481946, -0.07202930368628374, 2.418620951532489),
          (0.07306974605509227, 0.04513409843106972, 2.34552953136492),
          (0.0986088062754286, 0.005982761839282993, 2.9353052075284563),
          (0.12907823558428658, -0.07208366976506093, 2.846376454698949),
          (0.09515569184877692, -0.08392532578559504, 2.0510834430991696),
          (0.1275770306356359, 0.06209765813046894, 2.5493732141786483),
          (0.11806978235021412, -0.09737794517300276, 2.9606950130786185),
          (0.08528118489378131, 0.07823041519102714, 1.2087256413870486),
          (0.08730145286949284, 0.038390776217482575, 2.504380680250917),
          (0.06142356388810053, 0.007117221395177523, 2.3281082298623446),
          (0.0504572988710891, 0.002507362427606588, 1.9604030292257193),
          (0.1341692835763035, 0.02484801673879662, 1.9140115184141469),
          (0.10093893176755289, 0.08847893882574998, 2.0205466399492567),
          (0.0880860563462665, 0.05901868019256268, 1.376211523761882),
          (0.09765282281611974, 0.037161858664577135, 2.7311465870148313),
          (0.10207762248289536, 0.03109027135603537, 2.167133160403199),
          (0.12609153395885858, -0.07437692770018929, 1.455619816260095),
          (0.05435771170976035, -0.013119577807074428, 2.3436648038234917),
          (0.11199740607236003, -0.05711590846549208, 1.3717237253053487),
          (0.08024537832678888, -0.035983727830424694, 1.4812950987779177),
          (0.13770645682579363, -0.06705014517563074, 1.0872033246886135),
          (0.09284691153924748, -0.049798668227325774, 1.7820129895173447),
          (0.14721835553378212, -0.0583537835055868, 1.0313880650292315),
          (0.13175117473017975, -0.06891439430021673, 2.2743353871834566),
          (0.136025155745425, 0.02327743311617407, 2.2586376876097276),
          (0.07786227374473495, 0.062937078803666, 1.3022625512810293),
          (0.07238761044428692, 0.07898933152788881, 2.903716963385916),
          (0.13943123905246738, -0.09078452145071113, 1.224708377825266),
          (0.104900907667829, 0.07300619018216167, 1.6917572526691753),
          (0.10028914292150395, -0.07967027011706251, 2.7241209645110214),
          (0.12402285891031924, -0.05552808161790484, 2.6847861997184177),
          (0.06684461506885589, -0.061948728094838514, 2.5360071783046347),
          (0.06944969219085721, 0.06288897034368224, 2.218303016855774),
          (0.08888112941722429, 0.09989791895050001, 1.9591657796022217),
          (0.05265988215958567, 0.05643586404416287, 1.7604524059001116),
          (0.11749252166806166, -0.04125758755037723, 1.195292673341757),
          (0.10641087868078791, 0.02921205483316433, 2.929048442636895),
          (0.1410518605466484, 0.08105363963509118, 1.4597042426352629),
          (0.0827173072551949, 0.054077171044489, 1.1443657727487495),
          (0.11356459439947603, -0.0517405114314117, 1.2543989883568072),
          (0.13849773272356392, 0.022507425721865218, 2.183452398150634),
          (0.07369076427301771, -0.07400189425676547, 2.0834407791018332),
          (0.1338460725344388, -0.03266531519119535, 1.296875831813619),
          (0.11729121655744477, -0.03551302482052583, 1.643129094138072),
          (0.11012492608505112, -0.06841227194169233, 2.1327004336961197),
          (0.10049033218748132, -0.015286137165544694, 2.112001202346038)]}

main()

# Comment to update:027049095561540672